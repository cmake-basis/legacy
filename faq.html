<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Frequently Asked Questions &mdash; BASIS</title>
    
    <link rel="stylesheet" href="_static/cmake-basis.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'v3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="BASIS" href="index.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
  
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="sidebar.html">BASIS</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="standard-cmake-commands">
<h2>Standard CMake Commands<a class="headerlink" href="#standard-cmake-commands" title="Permalink to this headline">¶</a></h2>
<p><strong>Can I still use standard CMake calls such as add_library, or is some BASIS functionality lost?</strong></p>
<p>Probably. However, you will definitely lose much of the useful functionality
that BASIS was created to provide. This kind of usage has also not been heavily
tested so it is not recommended. The BASIS philosophy is definitely that a
project that switches to BASIS uses the basis_* CMake commands wherever possible.
Consider BASIS an extension to CMake, but if you run into issues you can
file a ticket and we will attempt to address the problem.</p>
</div>
<div class="section" id="cmake-package-configuration">
<h2>CMake Package Configuration<a class="headerlink" href="#cmake-package-configuration" title="Permalink to this headline">¶</a></h2>
<p><strong>Can I use the &lt;Package&gt;Config.cmake files of projects that do not use BASIS?</strong></p>
<p>In &lt;Package&gt;Config.cmake files of other projects, it is fine that there will
be standard CMake commands add include/library directories or import targets.
BASIS is &#8220;smart&#8221; enough to extract this information properly by overriding
the standard CMake commands.</p>
</div>
<div class="section" id="export-of-build-targets">
<h2>Export of Build Targets<a class="headerlink" href="#export-of-build-targets" title="Permalink to this headline">¶</a></h2>
<p><strong>Do library targets have to be manually exported?</strong></p>
<p>No. This is taken care of by the functions found in the internal <a class="reference external" href="http://opensource.andreasschuh.com/cmake-basis/apidoc/latest/ExportTools_8cmake.html">ExportTools.cmake</a> module,
including executable targets which correspond to executable Python, Perl, BASH scripts,
or executable binaries generated by the MATLAB Compiler.</p>
<p><strong>Does the BASISConfig.cmake file define all of the exported library targets?</strong></p>
<p>As typical for CMake, import statements for exported targets are written to &#8220;export files&#8221;.
These are included by the BASISUse.cmake file which should be included by
other packages which use BASIS as follows:</p>
<div class="highlight-cmake"><div class="highlight"><pre><span class="nb">find_package</span><span class="p">(</span><span class="s">BASIS</span> <span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">include</span><span class="p">(</span><span class="o">${</span><span class="nv">BASIS_USE_FILE</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
<p>This is done already by the <span>basis_use_package</span> function which in turn
is called by <span>basis_find_packages</span> for all project dependencies right after
the respective <span>basis_find_package</span> call. In case of BASIS itself,
the <tt class="docutils literal"><span class="pre">basis_use_package(BASIS)</span></tt> is called by the <span>basis_project_begin</span> command
which also calls <span>basis_find_packages</span>.</p>
<p>Thus, all you need to do is add a call to <span>basis_project_begin</span> to the
root CMakeLists.txt file of your project. See the root CMakeLists.txt of the default
<a class="reference internal" href="howto/use-and-customize-templates.html#availabletemplates"><em>project template</em></a> included with BASIS for an example.</p>
<p><strong>Is there an easy way for users to get a list of the exported targets in a module?</strong></p>
<p>No. This should probably be part of the documentation of each respective package/module.
Generally with CMake, you would have a look at the exports file of a package that
can usually be found right next to the CMake package configuration file (<tt class="docutils literal"><span class="pre">&lt;Package&gt;Config.cmake</span></tt>).</p>
<p>Look into the build directory of your BASIS build for an example. There you find the following files:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>BASISConfig.cmake</strong></td>
<td>Package configuration file which is included by CMake&#8217;s <tt class="docutils literal"><span class="pre">find_package</span></tt> command.</td>
</tr>
<tr class="row-odd"><td><strong>BASISExports.cmake</strong></td>
<td>Import statements for exported targets.</td>
</tr>
<tr class="row-even"><td><strong>BASISCustomExports.cmake</strong></td>
<td>Import statements for exported custom targets.</td>
</tr>
<tr class="row-odd"><td><strong>BASISUse.cmake</strong></td>
<td>File to be included by users. Imports the exported targets.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These file are generated by BASIS for every project that uses it,
where <tt class="docutils literal"><span class="pre">BASIS</span></tt> is replaced by package name.</p>
</div>
<p>Note that these files contain the paths to the libraries and executables in the build tree.
For each of these, BASIS configures also a second version which contains then the paths for
the installation tree which are all relative to the location of the <tt class="docutils literal"><span class="pre">&lt;Package&gt;Config.cmake</span></tt>
file and made absolute upon inclusion of these files.</p>
<p>The export files are generated by the internal CMake function <span>basis_export_targets</span>.
This function not only exports the custom targets of a project, but also calls
CMake&#8217;s <a class="reference external" href="http://www.cmake.org/cmake/help/v2.8.12/cmake.html#command:export">export</a> and
<a class="reference external" href="http://www.cmake.org/cmake/help/v2.8.12/cmake.html#command:install">install(EXPORT)</a>
commands for built-in targets, i.e., C/C++ executables and libraries.
This happens upon project &#8220;finalization&#8221;, i.e., <span>basis_project_end</span>,
which must be called at the end of each root CMakeLists.txt, including the CMakeLists.txt
file in the top-level directory of each <a class="reference internal" href="standard/modules.html#projectmoduledefinition"><em>project module</em></a>.</p>
<p>The exported target names are all the &#8220;fully qualified target UIDs&#8221; as used internally
by BASIS to avoid target name conflicts between packages. The target name specified
as argument to the <tt class="docutils literal"><span class="pre">basis_add_*</span></tt> target commands is prepended by the name of the package
(i.e., top-level project name in case of modules, respectively, the <tt class="docutils literal"><span class="pre">PACKAGE_NAME</span></tt>
specified in the <tt class="docutils literal"><span class="pre">BasisProject.cmake</span></tt> file) and separated by a dot (<tt class="docutils literal"><span class="pre">.</span></tt>).
For example, the BASIS Utilities library of the CMake BASIS package has the exported
target name <tt class="docutils literal"><span class="pre">basis.utilities</span></tt>.</p>
<p>When two modules belong to the same package, the package name prefix of the target
names can be omitted when calling <span>basis_target_link_libraries</span>, for example.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <p class="logo"><a href="index.html">
    <img class="logo" src="_static/logo_title.svg" alt="Logo"/>
  </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="contents.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html">How-to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="standard.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="guideline.html">Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidoc.html">API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
</ul>

<h3>External Links</h3>
<ul>
  <li><a href="https://github.com/schuhschuh/cmake-basis">Repository</a></ li>
  <li><a href="https://github.com/schuhschuh/cmake-basis/issues">Issues</a></ li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2011-12 University of Pennsylvania, 2013-14 Andreas Schuh, 2013-14 Carnegie Mellon University.
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
  </div>
  
  </body>
</html>